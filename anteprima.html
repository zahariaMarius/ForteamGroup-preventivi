<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ForteamGroup - Preventivi</title>
		<link rel="stylesheet" type="text/css" href="css/anteprimaStyle.css">

		<!-- librerie CDN -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
		<script src="//kendo.cdn.telerik.com/2016.3.914/js/kendo.all.min.js"></script>
		<!-- librerie CDN -->
	</head>
	<body>
		<div  ng-app="myApp" ng-controller="stampa" id="stampa">

			<div class="padding-anteprima" id="anteprima">
					<div class="col">
						<div class="headerLogo text-center">
								<img src="images/Logo.png" alt="logo azienda">
						</div>
					</div>

					<div class="row">
						<div class="col col-9">
							<table class="table table-responsive" id="tableAzienda">
								<thead>
									<tr>
										<th>NOME</th>
										<th>INDIRIZZO</th>
										<th>PARTITA IVA</th>
										<th>CODICE FISCALE</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="x in azienda">
										<td>{{x.Nome_azienda | uppercase}}</td>
										<td>{{x.Indirizzo | uppercase}}</td>
										<td>{{x.Partita_iva | uppercase}}</td>
										<td>{{x.Codice_fiscale | uppercase}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>

				<div class="row">
					<div class="col col-9">
						<table class="table table-responsive">
							<thead>
								<tr>
									<th>Codice</th>
									<th>Prodotto</th>
									<th>Qnt.</th>
									<th>Prezzo acquisto</th>
									<th>Prezzo listino</th>
									<th>Sconto</th>
									<th>Totale vendita</th>
									<th>Ricavo</th>
									<th>%Ricavo</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="x in distributore">
									<td>{{x.Codice}}</td>
									<td>{{x.Nome}}</td>
									<td>{{x.Quantita}}</td>
									<td>{{x.Prezzo_acquisto | currency:"€"}}</td>
									<td>{{x.Prezzo_listino | currency:"€"}}</td>
									<td>%{{x.Sconto + 0}}</td>
									<td>{{x.Ricavo_scontato | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno >= 0, perdita: x.Guadagno < 0}'>{{x.Guadagno | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno_percentuale >= 0, perdita: x.Guadagno_percentuale < 0}'>%{{x.Guadagno_percentuale | number}}</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<th colspan="6">TOTALE</th>
									<th id="priceCardDistributori">{{Ricavo_distributore | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_distributore >= 0, perdita: Guadagno_distributore < 0}' id="priceCardDistributori">{{Guadagno_distributore | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_distributore_percentuale >= 0, perdita: Guadagno_distributore_percentuale < 0}' id="priceCardDistributori">%{{Guadagno_distributore_percentuale | number}}</th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>


				<div class="row">
					<div class="col col-9">
						<table class="table table-responsive">
							<thead>
								<tr>
									<th>Codice</th>
									<th>Prodotto</th>
									<th>Qnt.</th>
									<th>Prezzo acquisto</th>
									<th>Prezzo listino</th>
									<th>Sconto</th>
									<th>Totale vendita</th>
									<th>Ricavo</th>
									<th>%Ricavo</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="x in accessori">
									<td>{{x.Codice}}</td>
									<td>{{x.Nome}}</td>
									<td>{{x.Quantita}}</td>
									<td>{{x.Prezzo_acquisto | currency:"€"}}</td>
									<td>{{x.Prezzo_listino | currency:"€"}}</td>
									<td>%{{x.Sconto + 0}}</td>
									<td>{{x.Ricavo_scontato | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno >= 0, perdita: x.Guadagno < 0}'>{{x.Guadagno | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno_percentuale >= 0, perdita: x.Guadagno_percentuale < 0}'>%{{x.Guadagno_percentuale | number}}</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<th colspan="6">TOTALE</th>
									<th id="priceCardAccessori">{{Ricavo_accessori | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_accessori >= 0, perdita: Guadagno_accessori < 0}' id="priceCardAccessori">{{Guadagno_accessori | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_accessori_percentuale >= 0, perdita: Guadagno_accessori_percentuale < 0}' id="priceCardAccessori">%{{Guadagno_accessori_percentuale | number}}</th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>

				<div class="row">
					<div class="col col-9">
						<table class="table table-responsive">
							<thead>
								<tr>
									<th>Codice</th>
									<th>Prodotto</th>
									<th>Qnt.</th>
									<th>Prezzo acquisto</th>
									<th>Prezzo listino</th>
									<th>Sconto</th>
									<th>Totale vendita</th>
									<th>Ricavo</th>
									<th>%Ricavo</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="x in software">
									<td>{{x.Codice}}</td>
									<td>{{x.Tipologia}}</td>
									<td>{{x.Quantita}}</td>
									<td>{{x.Prezzo_acquisto | currency:"€"}}</td>
									<td>{{x.Prezzo_listino | currency:"€"}}</td>
									<td>%{{x.Sconto + 0}}</td>
									<td>{{x.Ricavo_scontato | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno >= 0, perdita: x.Guadagno < 0}'>{{x.Guadagno | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno_percentuale >= 0, perdita: x.Guadagno_percentuale < 0}'>%{{x.Guadagno_percentuale | number}}</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<th colspan="6">TOTALE</th>
									<th id="priceCardSoftware">{{Ricavo_software | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_software >= 0, perdita: Guadagno_software < 0}' id="priceCardSoftware">{{Guadagno_software | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_software_percentuale >= 0, perdita: Guadagno_software_percentuale < 0}' id="priceCardSoftware">%{{Guadagno_software_percentuale | number}}</th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>

				<div class="row">
					<div class="col col-9">
						<table class="table table-responsive">
							<thead>
								<tr>
									<th>Codice</th>
									<th>Prodotto</th>
									<th>Qnt.</th>
									<th>Prezzo acquisto</th>
									<th>Prezzo listino</th>
									<th>Sconto</th>
									<th>Totale vendita</th>
									<th>Ricavo</th>
									<th>%Ricavo</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="x in licenze">
									<td>{{x.Codice}}</td>
									<td>{{x.Tipologia}}</td>
									<td>{{x.Quantita}}</td>
									<td>{{x.Prezzo_acquisto | currency:"€"}}</td>
									<td>{{x.Prezzo_listino | currency:"€"}}</td>
									<td>%{{x.Sconto + 0}}</td>
									<td>{{x.Ricavo_scontato | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno >= 0, perdita: x.Guadagno < 0}'>{{x.Guadagno | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno_percentuale >= 0, perdita: x.Guadagno_percentuale < 0}'>%{{x.Guadagno_percentuale | number}}</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<th colspan="6">TOTALE</th>
									<th id="priceCardLicenze">{{Ricavo_licenze | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_licenze >= 0, perdita: Guadagno_licenze < 0}' id="priceCardLicenze">{{Guadagno_licenze | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_licenze_percentuale >= 0, perdita: Guadagno_licenze_percentuale < 0}' id="priceCardLicenze">%{{Guadagno_licenze_percentuale | number}}</th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>

				<div class="row">
					<div class="col col-9">
						<table class="table table-responsive">
							<thead>
								<tr>
									<th>Codice</th>
									<th>Prodotto</th>
									<th>Qnt.</th>
									<th>Prezzo acquisto</th>
									<th>Prezzo listino</th>
									<th>Sconto</th>
									<th>Totale vendita</th>
									<th>Ricavo</th>
									<th>%Ricavo</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="x in servizi">
									<td>{{x.Codice}}</td>
									<td>{{x.Tipologia}}</td>
									<td>{{x.Quantita}}</td>
									<td>{{x.Prezzo_acquisto | currency:"€"}}</td>
									<td>{{x.Prezzo_listino | currency:"€"}}</td>
									<td>%{{x.Sconto + 0}}</td>
									<td>{{x.Ricavo_scontato | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno >= 0, perdita: x.Guadagno < 0}'>{{x.Guadagno | currency:"€"}}</td>
									<td ng-class='{guadagno: x.Guadagno_percentuale >= 0, perdita: x.Guadagno_percentuale < 0}'>%{{x.Guadagno_percentuale | number}}</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<th colspan="6">TOTALE</th>
									<th id="priceCardServizi">{{Ricavo_servizi | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_servizi >= 0, perdita: Guadagno_servizi < 0}' id="priceCardServizi">{{Guadagno_servizi | currency:"€"}}</th>
									<th ng-class='{guadagno: Guadagno_servizi_percentuale >= 0, perdita: Guadagno_servizi_percentuale < 0}' id="priceCardServizi">%{{Guadagno_servizi_percentuale | number}}</th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>

				<div class="row">
					<div class="col col-9">
						<table class="table" id="tableAzienda">
							<thead>
								<tr>
									<th>Prezzo finale</th>
									<th>Ricavo</th>
									<th>%Ricavo</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td style="width: 33%"><h2>{{Ricavo_totale | currency:'€'}}<small style="font-size: 25%"> IVA Incl.</small></h2></td>
									<td style="width: 33%" ng-class='{guadagno: Guadagno_totale >= 0, perdita: Guadagno_totale < 0}'><h2>{{Guadagno_totale | currency:'€'}}</h2></td>
									<td style="width: 33%" ng-class='{guadagno: Guadagno_totale_percentuale >= 0, perdita: Guadagno_totale_percentuale < 0}'><h2>%{{Guadagno_totale_percentuale | number}}</h2></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

			<input type="button" value="stampa" ng-model="pdf" name="pdf" ng-click="generatePDF()">
		</div>

		<script src="js/classie.js"></script>
		<script src="js/bootstrap.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/scriptAnteprima.js"></script>
	</body>
</html>
